<!DOCTYPE html>
<html>
	<head>
		<title>GeoAds - the power of Where</title>
		
		<!-- Icon -->
		<link rel="icon" href="images/favicon.ico" />
		
		<!-- Style -->
		<link rel="stylesheet" type="text/css" href="style/main.css">
	    <link rel="stylesheet" type="text/css" href="style/grids-min.css">
	    <link rel="stylesheet" type="text/css" href="style/cssreset-min.css">
	    <link rel="stylesheet" type="text/css" href="style/bootstrap.css">
	    <link rel="stylesheet" type="text/css" href="style/flat-ui.css">
	    
	    <!-- Google Maps -->
    	<script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.3&sensor=false&language=en"></script>
	    
	    
	    <script type="text/javascript" src="libs/jquery-1.7.2.min.js"></script>
	    <script type="text/javascript" src="libs/js.class.js"></script>
		<script type="text/javascript" src="libs/geoads.jquery.js"></script>
		<script type="text/javascript" src="libs/geoads.js"></script>
		<script type="text/javascript" src="libs/mustache.js"></script>
		<script type="text/javascript" src="libs/jsonp.js"></script>
		<script type="text/javascript" src="libs/helpers.js"></script>
	    
		<!-- Font -->
	    <link href='http://fonts.googleapis.com/css?family=Alfa+Slab+One' rel='stylesheet' type='text/css'>
		
		<!-- Script -->
		<script>
	
			(function( $j )
			{
				$j(document).ready( function(){
					
					/** App **/
					var app = new GA.App({
						state: GA.App.States.MAP,
						views: [
						
							/*
							 * Menu View
							 */
							new GA.MenuView({
								container: GA.one("#menu"),
								templates: {
									main: $j.trim( GA.one("#menu-tpl").innerHTML )
								}
							}),
							
							/*
							 * Search View
							 */
							new GA.SearchView({
								container: GA.one("#search"),
								hideOnStates: [ GA.App.States.INFO ],
								templates: {
									main: $j.trim( GA.one("#search-tpl").innerHTML )
								}
							}),
							
							/*
							 * Steps View
							 */
							new GA.StepsView({
								container: GA.one("#steps"),
								templates: {
									main: $j.trim( GA.one("#steps-tpl").innerHTML )
								}
							}),
							
							/*
							 * Map View
							 */
							new GA.MapView({
								container: GA.one("#map"),
								hideOnStates: [ GA.App.States.INFO ],
								zoom: 17,
								markerInfo:{
									url: "images/grey-blue-pin-48.png",
									position: { 
										lat: 45.757284,
										lng: 21.228633
									}
								},
								templates: {
								}	
							}),
							
							/*
							 * Info View
							 */
							new GA.InfoView({
								container: GA.one("#info"),
								hideOnStates: [ GA.App.States.MAP ],
								templates: {
									main: $j.trim( GA.one("#info-tpl").innerHTML )
								}	
							})
						]
					});
	
					app.start();
					
					//GeolocateUser
					GA.DataManager.getInstance().geolocateUser();
				});
				
			})(jQuery.noConflict());
			
		</script>	
		
	</head>
	<body>
		
		<div class="page">
			<div id="menu"></div>
			<div id="steps"></div>
			<div id="search"></div>
			<div id="map"></div>
			<div id="info"></div>
		</div>
		
		<!-- Templates -->
		
		<!-- Menu View -->
		<script id="menu-tpl" type="text/template">
			<div class="menu-container">
				<div id="home" class="yui3-u logo">GeoAds</div>
			</div>
		</script>
		
		<!-- Steps View -->
		<script id="steps-tpl" type="text/template">
			<div id="steps-container">
				<div id="previous-step" class="yui3-u hide" title="Previous Step"></div>
				<div id="next-step" class="yui3-u" title="Next Step"></div>
			</div>
		</script>
		
		<!-- Search View -->
		<script id="search-tpl" type="text/template">
			<div id="search-btn" class="yui3-u" title="Search for my location"></div>
			<input id="search-input" class="yui3-u" type="text" placeholder="Where are you?"/>
		</script>
		
		<!-- Info View -->
		<script id="info-tpl" type="text/template">
			<div class="left">
				<h3>Congrats!</h3>
				<p>You're almost done adding you business ON THE MAP!</p>
				<p>Please take on more minute and complete your business information. This is the information the users will see when they're in the neighbourhood.</p>
			</div>
			<div class="right">
				<input id="company-name" type="text" placeholder="Company name (visible to users)"/>
				<input id="keywords" type="text" placeholder="Add keywords describing your company (visible to users)"/>
				<a id="publish" href="#" class="btn btn-large btn-block btn-info">Put me on the map</a>
			</div>
		</script>
		
	</body>
</html>